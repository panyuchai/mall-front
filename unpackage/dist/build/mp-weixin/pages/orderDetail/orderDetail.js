(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderDetail/orderDetail"],{"0106":function(t,e,n){},"8eb1":function(t,e,n){"use strict";n.r(e);var o=n("caf7"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=a.a},caf7:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={data:function(){return{initData:{},expressData:{}}},methods:{linkToDelivery:function(e){t.navigateTo({url:"/pages/delivery/delivery?orderId="+e})},linkToPayment:function(e){var n=[];e.map(function(t){n.push({goodsCount:t.goodsCount,mallGoodsId:t.mallGoodsId})}),t.setStorage({key:"buyList",data:n,success:function(){t.navigateTo({url:"/pages/payment/payment"})}})},confirmOrder:function(e){var n=this;this.$http.post("/mall/app/order/receive",a({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:e})).then(function(o){0==o.code&&(t.showToast({icon:"none",title:"确认收货成功"}),n.loadData(e))}).catch(function(t){console.log(t)})},cancelOrder:function(e){var n=this;t.showModal({title:"提示",content:"确定取消订单吗？",confirmColor:"#E93B3D",success:function(o){o.confirm?n.$http.post("/mall/app/order/cancel",a({},n.baseInfo,{accountId:n.userInfo.accountId,orderId:e})).then(function(o){0==o.code?(t.showToast({icon:"none",title:"取消订单成功"}),n.loadData(e)):(t.showToast({icon:"none",title:"取消订单失败"}),n.loadData())}).catch(function(t){console.log(t)}):o.cancel&&console.log("用户点击取消")}})},transformStatus:function(t){switch(t){case-1:return"待查询";case 0:return"查询异常";case 1:return"暂无记录";case 2:return"在途中";case 3:return"派送中";case 4:return"已签收";case 5:return"用户拒签";case 6:return"疑难件";case 7:return"无效单";default:return""}},initExpress:function(t){var e=this;this.$http.post("/mall/app/order/express",a({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:t})).then(function(t){0==t.code&&(e.expressData=JSON.parse(t.result.result).showapi_res_body,e.expressData.statusName=e.transformStatus(e.expressData.status),e.expressData.data=e.expressData.data[0])}).catch(function(t){console.log(t)})},loadData:function(t){var e=this;this.$http.post("/mall/app/order/detail",a({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:t})).then(function(t){0==t.code&&(e.initData=t.result)}).catch(function(t){console.log(t)})}},computed:a({},(0,o.mapState)("common",["baseInfo","userInfo"])),onLoad:function(t){this.loadData(t.orderId),this.initExpress(t.orderId)}};e.default=c}).call(this,n("543d")["default"])},dae6:function(t,e,n){"use strict";var o=n("0106"),a=n.n(o);a.a},e70f:function(t,e,n){"use strict";n.r(e);var o=n("f757"),a=n("8eb1");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("dae6");var c=n("2877"),s=Object(c["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=s.exports},f757:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})}},[["2d71","common/runtime","common/vendor"]]]);