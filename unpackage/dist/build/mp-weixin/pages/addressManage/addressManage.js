(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/addressManage/addressManage"],{"08ec":function(e,s,t){"use strict";var a=t("122e"),d=t.n(a);d.a},"122e":function(e,s,t){},"4b42":function(e,s,t){"use strict";t.r(s);var a=t("887d"),d=t("919b");for(var n in d)"default"!==n&&function(e){t.d(s,e,function(){return d[e]})}(n);t("08ec");var r=t("2877"),i=Object(r["a"])(d["default"],a["a"],a["b"],!1,null,null,null);s["default"]=i.exports},"848b":function(e,s,t){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=t("2f62");function d(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(s){n(e,s,t[s])})}return e}function n(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}var r={data:function(){return{addressId:"",addressData:{addressRecipients:"",addressPhone:"",addressSheng:"",addressShi:"",addressQu:"",addressAddress:"",addressSelected:0}}},methods:{chooseLocation:function(){var s=this;e.chooseLocation({success:function(e){var t=e.address.indexOf("省"),a=e.address.indexOf("市"),d=e.address.indexOf("区");s.addressData.addressSheng=e.address.slice(0,t+1),s.addressData.addressShi=e.address.slice(t+1,a+1),s.addressData.addressQu=e.address.slice(a+1,d+1),s.addressData.addressAddress=e.address.slice(d+1)}})},switchChange:function(e){this.addressData.addressSelected=Number(e.detail.value)},confirm:function(){var s=this,t=this.addressData;t.addressRecipients?/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.addressPhone)?t.addressQu?t.addressAddress?"edit"==this.manageType?this.$http.post("/mall/app/address/update",d({},this.baseInfo,{accountId:this.userInfo.accountId,addressId:this.addressId,receiverName:this.addressData.addressRecipients,receiverPhone:this.addressData.addressPhone,province:this.addressData.addressSheng,city:this.addressData.addressShi,district:this.addressData.addressQu,address:this.addressData.addressAddress,addressSelected:this.addressData.addressSelected})).then(function(t){0==t.code&&(s.tui.toast("地址".concat("edit"==s.manageType?"修改":"添加","成功")),setTimeout(function(){e.navigateBack()},800))}).catch(function(e){console.log(e)}):this.$http.post("/mall/app/address/add",d({},this.baseInfo,{accountId:this.userInfo.accountId,receiverName:this.addressData.addressRecipients,receiverPhone:this.addressData.addressPhone,province:this.addressData.addressSheng,city:this.addressData.addressShi,district:this.addressData.addressQu,address:this.addressData.addressAddress,addressSelected:this.addressData.addressSelected})).then(function(t){0==t.code&&(s.tui.toast("地址".concat("edit"==s.manageType?"修改":"添加","成功")),setTimeout(function(){e.navigateBack()},800))}).catch(function(e){console.log(e)}):this.tui.toast("请填写详细门牌号信息"):this.tui.toast("请在地图选择所在位置"):this.tui.toast("请输入正确的手机号码"):this.tui.toast("请填写收货人姓名")},deleteAddress:function(){var s=this;this.addressId&&this.$http.post("/mall/app/address/delete",d({},this.baseInfo,{accountId:this.userInfo.accountId,addressId:this.addressId})).then(function(t){0==t.code&&(s.tui.toast("删除成功"),setTimeout(function(){e.navigateBack()},800))}).catch(function(e){console.log(e)})},initAddress:function(){var e=this;this.$http.post("/mall/app/address/one",d({},this.baseInfo,{accountId:this.userInfo.accountId,addressId:this.addressId})).then(function(s){console.log(s),0==s.code&&(e.addressData=s.result)}).catch(function(e){console.log(e)})}},computed:d({},(0,a.mapState)("common",["baseInfo","userInfo"])),onLoad:function(s){var t="新增地址";"edit"===s.type&&(t="编辑地址",this.addressId=s.data,this.initAddress()),this.manageType=s.type,e.setNavigationBarTitle({title:t})}};s.default=r}).call(this,t("543d")["default"])},"887d":function(e,s,t){"use strict";var a=function(){var e=this,s=e.$createElement;e._self._c},d=[];t.d(s,"a",function(){return a}),t.d(s,"b",function(){return d})},"919b":function(e,s,t){"use strict";t.r(s);var a=t("848b"),d=t.n(a);for(var n in a)"default"!==n&&function(e){t.d(s,e,function(){return a[e]})}(n);s["default"]=d.a}},[["c5fd","common/runtime","common/vendor"]]]);