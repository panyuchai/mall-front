(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/payment/cashRegister"],{"07b7":function(e,t,n){"use strict";var a=n("9c48"),i=n.n(a);i.a},"17bf":function(e,t,n){"use strict";n.r(t);var a=n("9e2e"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=i.a},"2dd8":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i})},"9c48":function(e,t,n){},"9e2e":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("2f62");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r={data:function(){return{orderNo:"",mallDomain:"",payInfo:{},initData:{}}},methods:{onBridgeReady:function(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:this.payInfo.appId,timeStamp:this.payInfo.timeStamp,nonceStr:this.payInfo.nonceStr,package:this.payInfo.package,signType:this.payInfo.signType,paySign:this.payInfo.paySign},function(e){alert(e),"get_brand_wcpay_request:ok"==e.err_msg&&console.log('res.err_msg == "get_brand_wcpay_request:ok"')})},Gopay:function(){console.log("开始支付"),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.onBridgeReady(),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.onBridgeReady()),document.attachEvent("onWeixinJSBridgeReady",this.onBridgeReady())):this.onBridgeReady()},handleSubmit:function(){var e=this,t={accountId:this.initData.accountId,addressId:this.initData.addressId,balance:this.initData.balance,isBalance:this.initData.isBalance,credits:0,expressFee:this.initData.expressFee,goodsList:this.initData.goodsList,payPrice:this.initData.payPrice,remark:this.initData.remark,totalPrice:this.initData.totalPrice,payChannels:"6",callBackNo:this.orderNo,mallDomain:this.mallDomain,mallId:2};this.$http.post("/mall/app/order/submit",t,{header:{Authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50SWQiOiI5YTE4YjY1MDM1YmM0N2E3ODUwN2E3OWU0NDU5MDU4ZSIsImNvbXBhbnlJZCI6ImRiMDQzNWFmYjQyOTRjNjNhNGU3ODM4NTM5ZTlhYzdiIiwidXNlcl9uYW1lIjoib1pMYmhzbHFyNFBDaWpLZWhSdHAtczJlN1BMdyIsInNjb3BlIjpbImFsbCJdLCJsb2dpbk5hbWUiOiJvWkxiaHNscXI0UENpaktlaFJ0cC1zMmU3UEx3IiwidXNlclR5cGUiOjIsImV4cCI6MTU2ODA5Njg4OSwidXNlcklkIjoxMTcwMjcxODQyMzQ3NzAwMjI2LCJhdXRob3JpdGllcyI6WyJST0xFX0FDVElWSVRJX1VTRVIiXSwianRpIjoiZmZlMWJhYWYtY2EzZi00NmZlLWEyYWUtMDg2YjlkYjZkODNjIiwiY2xpZW50X2lkIjoiZGIwNDM1YWZiNDI5NGM2M2E0ZTc4Mzg1MzllOWFjN2IifQ.OON7DvWhohAPYJodJsbEs7xKl8O3WvqHts_-FM4aRv9ET1kPOJfmqNRtTLCGbit5gkdDpYjER0J4l6EWhrqyWBIlAaH7_SFCspiebeW8cS9VoK3LctL_2rZaQvZRUNM6rXGTMLi-LfGmrTIlN9uzcHEIavxoC305a5tFgViMEsXB3YficlujGBVk7Cwmo6N7jLZPUdTXV1N_O1I-Six93JAkDkUj1KAyt8l6UxUhDCVwCOQbtCWHeFvbOh0H5jAr7dG0yJZLtc7hOw8b-WEkBa1OhtuVd925_-sR-nM_utkjExJixR8OmKmezgm_7E17gH7F7sqHvdQTP1FeV8tWGQ"}}).then(function(t){console.log("WxWebPay  接口调用成功"),0==t.code&&(e.payInfo.appId=t.result.payResponse.wxPayResponse.appId,e.payInfo.timeStamp=t.result.payResponse.wxPayResponse.timeStamp,e.payInfo.nonceStr=t.result.payResponse.wxPayResponse.nonceStr,e.payInfo.package=t.result.payResponse.wxPayResponse.packageStr,e.payInfo.signType=t.result.payResponse.wxPayResponse.signType,e.payInfo.paySign=t.result.payResponse.wxPayResponse.paySign,e.onBridgeReady())}).catch(function(e){console.log(e)})},getInitData:function(){this.orderNo=e.getStorageSync("ORDER_NO"),this.initData=JSON.parse(e.getStorageSync("paymentOrder")),this.mallDomain=e.getStorageSync("mallDomain")}},computed:i({},(0,a.mapState)("common",["baseInfo","userInfo"])),onLoad:function(t){e.setStorageSync("ORDER_NO",t.orderNo),e.setStorageSync("mallDomain",t.mallDomain),e.setStorageSync("paymentOrder",t.paymentrder),this.getInitData()}};t.default=r}).call(this,n("543d")["default"])},bb65:function(e,t,n){"use strict";n.r(t);var a=n("2dd8"),i=n("17bf");for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);n("07b7");var r=n("2877"),s=Object(r["a"])(i["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports}},[["dbe6","common/runtime","common/vendor"]]]);