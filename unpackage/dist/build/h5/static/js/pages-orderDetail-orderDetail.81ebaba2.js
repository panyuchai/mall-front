(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orderDetail-orderDetail"],{"7bb5":function(e,t,i){"use strict";var a=i("8a1e"),s=i.n(a);s.a},"88cc":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"order-info"},[2==e.initData.orderlistState||3==e.initData.orderlistState||4==e.initData.orderlistState?i("v-uni-view",{staticClass:"info-delivery info-mode",on:{click:function(t){t=e.$handleEvent(t),e.linkToDelivery(e.initData.orderId)}}},[i("v-uni-view",{staticClass:"iconfont icon-che-tianchong icon-status icon-car"}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"status"},[e._v(e._s(e.expressData.statusName))]),i("v-uni-view",{staticClass:"text"},[e._v(e._s(e.expressData.data&&e.expressData.data.context))]),i("v-uni-text",{staticClass:"iconfont icon-arrowRight icon-arrow"})],1)],1):e._e(),i("v-uni-view",{staticClass:"info-address info-mode"},[i("v-uni-view",{staticClass:"iconfont icon-biaodiandidian icon-status icon-location"}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"status"},[e._v(e._s(e.initData.receiverName)),i("v-uni-text",{staticClass:"phone"},[e._v(e._s(e.initData.receiverPhone))])],1),i("v-uni-view",{staticClass:"text"},[e._v(e._s(e.initData.receiverAddress))])],1)],1)],1),i("v-uni-view",{staticClass:"order-detail mt-20"},[i("v-uni-view",{staticClass:"hd"},[i("v-uni-view",{staticClass:"number"},[e._v("订单编号："),i("v-uni-text",[e._v(e._s(e.initData.orderlistMainnum))])],1)],1),e._l(e.initData.details,function(t){return i("v-uni-view",{staticClass:"bd"},[i("v-uni-view",{staticClass:"pic"},[i("v-uni-image",{staticClass:"img",attrs:{src:t.goodsMainimagepath,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"tit"},[e._v(e._s(t.goodsProductname))]),i("v-uni-view",{staticClass:"num"},[i("v-uni-text",[e._v(e._s(t.goodsTitle))])],1),i("v-uni-view",{staticClass:"con"},[i("v-uni-view",{staticClass:"_left mode_price"},[t.goodsRelprice?i("v-uni-view",{staticClass:"salePrice"},[e._v("¥"),i("v-uni-text",{staticClass:"price"},[e._v(e._s(t.goodsRelprice))])],1):e._e(),t.goodsRelprice&&t.credits?i("v-uni-view",[e._v("+")]):e._e(),t.credits?i("v-uni-view",{staticClass:"salePoints"},[i("v-uni-text",{staticClass:"points"},[e._v(e._s(t.credits))]),e._v("分")],1):e._e()],1),i("v-uni-view",{staticClass:"_right"},[i("v-uni-text",{staticClass:"num"},[e._v("x"+e._s(t.goodsCount))])],1)],1)],1)],1)}),i("v-uni-view",{staticClass:"fd"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("快递方式")]),i("v-uni-view",{staticClass:"_right"},[e._v("快递："+e._s(e.initData.expressPay))])],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("留言")]),i("v-uni-view",{staticClass:"_right"},[e._v(e._s(e.initData.orderlistMessage))])],1)],1)],2),i("v-uni-view",{staticClass:"list-box mt-20"},[i("v-uni-view",{staticClass:"hd"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("应付总金额")]),i("v-uni-view",{staticClass:"_right mode_price"},[e.initData.orderlistAllprice?i("v-uni-view",{staticClass:"salePrice"},[e._v("¥"),i("v-uni-text",{staticClass:"price"},[e._v(e._s(e.initData.orderlistAllprice))])],1):e._e(),e.initData.orderlistAllprice&&e.initData.credits?i("v-uni-view",{staticClass:"and"},[e._v("+")]):e._e(),e.initData.credits?i("v-uni-view",{staticClass:"salePoints"},[i("v-uni-text",{staticClass:"points"},[e._v(e._s(e.initData.credits))]),e._v("分")],1):e._e()],1)],1),e.initData.rechargepay?i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("余额支付")]),i("v-uni-view",{staticClass:"_right"},[e._v("¥"+e._s(e.initData.rechargepay))])],1):e._e(),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("优惠金额")]),i("v-uni-view",{staticClass:"_right"},[e._v("¥0.00")])],1),e.initData.credits?i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("积分支付")]),i("v-uni-view",{staticClass:"_right"},[e._v(e._s(e.initData.credits)+"分")])],1):e._e(),e.initData.payPrice?i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("微信支付")]),i("v-uni-view",{staticClass:"_right"},[e._v("¥"+e._s(e.initData.payPrice))])],1):e._e()],1)],1),i("v-uni-view",{staticClass:"list-box mt-20"},[i("v-uni-view",{staticClass:"hd"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("下单时间")]),i("v-uni-view",{staticClass:"_right"},[e._v(e._s(e.initData.orderlistTime))])],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"_left"},[e._v("付款时间")]),i("v-uni-view",{staticClass:"_right"},[e._v(e._s(e.initData.payTime))])],1)],1)],1),i("v-uni-view",{staticClass:"action-box"},[i("v-uni-view",{staticClass:"action-btn"},[e._v("联系客服")]),0==e.initData.orderlistState?i("v-uni-view",{staticClass:"action-btn",on:{click:function(t){t=e.$handleEvent(t),e.cancelOrder(e.initData.orderlistId)}}},[e._v("取消订单")]):e._e(),0==e.initData.orderlistState?i("v-uni-view",{staticClass:"action-btn action-red",on:{click:function(t){t=e.$handleEvent(t),e.linkToPayment(e.initData)}}},[e._v("去付款")]):e._e(),2==e.initData.orderlistState?i("v-uni-view",{staticClass:"action-btn action-red",on:{click:function(t){t=e.$handleEvent(t),e.confirmOrder(e.initData.orderlistId)}}},[e._v("确认收货")]):e._e()],1)],1)},s=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return s})},"8a1e":function(e,t,i){var a=i("9258");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("bdd4f32e",a,!0,{sourceMap:!1,shadowMode:!1})},"8eb1":function(e,t,i){"use strict";i.r(t);var a=i("b44d"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);t["default"]=s.a},9258:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'uni-page-body[data-v-cae43ee6]{background:#f7f7f7;padding-bottom:%?110?%}.mt-20[data-v-cae43ee6]{margin-top:%?20?%}.mode_price[data-v-cae43ee6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.mode_price .and[data-v-cae43ee6]{padding-left:%?10?%}.info-mode[data-v-cae43ee6]{background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.info-mode .icon-status[data-v-cae43ee6]{width:%?110?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#a1a1a1;font-size:%?58?%}.info-mode .icon-status.icon-car[data-v-cae43ee6]{font-size:%?52?%}.info-mode .info[data-v-cae43ee6]{width:calc(100% - %?110?%);padding:%?20?% 0}.info-delivery .info[data-v-cae43ee6]{position:relative;padding-right:%?60?%}.info-delivery .info .status[data-v-cae43ee6]{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;font-size:%?28?%;color:#e93b3d}.info-delivery .info .text[data-v-cae43ee6]{color:#000;font-size:%?24?%;margin-top:%?10?%;line-height:%?34?%}.info-delivery .info .icon-arrow[data-v-cae43ee6]{position:absolute;right:%?20?%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);color:#323232;font-size:%?36?%}.info-address[data-v-cae43ee6]{border-top:1px solid #f5f5f5}.info-address .info .status[data-v-cae43ee6]{font-size:%?28?%;color:#303030}.info-address .info .status .phone[data-v-cae43ee6]{padding-left:%?20?%}.info-address .info .text[data-v-cae43ee6]{font-size:%?24?%;color:#8c8c8c}.order-detail[data-v-cae43ee6]{padding:%?20?%;background:#fff}.order-detail .hd[data-v-cae43ee6]{font-size:%?28?%;color:#505050;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.order-detail .bd[data-v-cae43ee6]{padding:%?20?% 0;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.order-detail .bd[data-v-cae43ee6]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:1px;background:#e8e8e8}.order-detail .bd .pic[data-v-cae43ee6]{margin-right:%?20?%}.order-detail .bd .pic .img[data-v-cae43ee6]{width:%?152?%;height:%?152?%}.order-detail .bd .info[data-v-cae43ee6]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative}.order-detail .bd .info .tit[data-v-cae43ee6]{font-size:%?28?%;color:#2f2f2f;width:100%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;margin-top:%?-4?%}.order-detail .bd .info .num[data-v-cae43ee6]{font-size:%?24?%;color:#b3b3b3;margin-top:%?4?%}.order-detail .bd .info .con[data-v-cae43ee6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:%?8?%}.order-detail .bd .info .con ._left[data-v-cae43ee6]{font-size:%?24?%;color:#e93548}.order-detail .bd .info .con ._left .salePrice .price[data-v-cae43ee6]{font-size:%?32?%}.order-detail .bd .info .con ._left .salePoints .points[data-v-cae43ee6]{font-size:%?28?%}.order-detail .bd .info .con ._right[data-v-cae43ee6]{font-size:%?24?%;color:#b3b3b3}.order-detail .fd[data-v-cae43ee6]{padding:%?15?% 0 0 0}.order-detail .fd .text[data-v-cae43ee6]{margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.order-detail .fd .text ._left[data-v-cae43ee6]{font-size:%?28?%;color:#a2a2a2}.order-detail .fd .text ._right[data-v-cae43ee6]{font-size:%?24?%;color:#333}.list-box[data-v-cae43ee6]{background:#fff;padding:0 %?20?%}.list-box .hd[data-v-cae43ee6]{padding:%?20?% 0 %?15?% 0}.list-box .hd .text[data-v-cae43ee6]{font-size:%?24?%;color:#a2a2a2;height:%?50?%;line-height:%?50?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.list-box .hd .text ._left[data-v-cae43ee6]{font-size:%?28?%;color:#a2a2a2}.list-box .hd .text ._right[data-v-cae43ee6]{font-size:%?24?%;color:#333}.action-box[data-v-cae43ee6]{position:fixed;left:0;right:0;bottom:0;background:#fff;padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.action-box[data-v-cae43ee6]:before{content:"";position:absolute;left:0;right:0;top:0;height:1px;background:#e8e8e8}.action-box .action-btn[data-v-cae43ee6]{height:%?66?%;border:1px solid #e3e3e3;padding:0 %?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?28?%;color:#474747;margin-left:%?20?%}.action-box .action-btn.action-red[data-v-cae43ee6]{border-color:#e93b3d;background:#e93b3d;color:#fff}body.?%PAGE?%[data-v-cae43ee6]{background:#f7f7f7}',""])},b44d:function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(i("cebc")),n=i("2f62"),o={data:function(){return{initData:{},expressData:{}}},methods:{linkToDelivery:function(e){uni.navigateTo({url:"/pages/delivery/delivery?orderId="+e})},linkToPayment:function(e){window.location.href="http://".concat(this.paymentUrl,".yujianli.cn/#/pages/payment/cashRegister?orderNo=")+e.orderListnum+"&mallDomain="+this.baseInfo.mallDomain+"&orderPayPrice="+e.payPrice+"&token="+encodeURIComponent(this.token)},confirmOrder:function(e){var t=this;this.$http.post("/mall/app/order/receive",(0,s.default)({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:e})).then(function(i){0==i.code&&(uni.showToast({icon:"none",title:"确认收货成功"}),t.loadData(e))}).catch(function(e){console.log(e)})},cancelOrder:function(e){var t=this;uni.showModal({title:"提示",content:"确定取消订单吗？",confirmColor:"#E93B3D",success:function(i){i.confirm?t.$http.post("/mall/app/order/cancel",(0,s.default)({},t.baseInfo,{accountId:t.userInfo.accountId,orderId:e})).then(function(i){0==i.code?(uni.showToast({icon:"none",title:"取消订单成功"}),t.loadData(e)):(uni.showToast({icon:"none",title:"取消订单失败"}),t.loadData())}).catch(function(e){console.log(e)}):i.cancel&&console.log("用户点击取消")}})},transformStatus:function(e){switch(e){case-1:return"待查询";case 0:return"查询异常";case 1:return"暂无记录";case 2:return"在途中";case 3:return"派送中";case 4:return"已签收";case 5:return"用户拒签";case 6:return"疑难件";case 7:return"无效单";default:return""}},initExpress:function(e){var t=this;this.$http.post("/mall/app/order/express",(0,s.default)({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:e})).then(function(e){0==e.code&&(t.expressData=JSON.parse(e.result.express).showapi_res_body,t.expressData.statusName=t.transformStatus(t.expressData.status),t.expressData.data=t.expressData.data[0])}).catch(function(e){console.log(e)})},loadData:function(e){var t=this;this.$http.post("/mall/app/order/detail",(0,s.default)({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:e})).then(function(e){0==e.code&&(t.initData=e.result)}).catch(function(e){console.log(e)})}},computed:(0,s.default)({},(0,n.mapState)("common",["baseInfo","userInfo","paymentUrl","token"])),onLoad:function(e){this.loadData(e.orderId),this.initExpress(e.orderId)}};t.default=o},e70f:function(e,t,i){"use strict";i.r(t);var a=i("88cc"),s=i("8eb1");for(var n in s)"default"!==n&&function(e){i.d(t,e,function(){return s[e]})}(n);i("7bb5");var o=i("2877"),c=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,"cae43ee6",null);t["default"]=c.exports}}]);