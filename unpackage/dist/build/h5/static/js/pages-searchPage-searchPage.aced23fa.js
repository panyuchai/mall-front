(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-searchPage-searchPage"],{"162c":function(t,e,i){"use strict";i.r(e);var n=i("f2db"),a=i("dbbf");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("c4f3");var s=i("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"0165b34c",null);e["default"]=c.exports},"5c83":function(t,e,i){var n=i("b545");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("201f6384",n,!0,{sourceMap:!1,shadowMode:!1})},"67e4":function(t,e,i){var n=i("71ca");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1b334bc5",n,!0,{sourceMap:!1,shadowMode:!1})},"71ca":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-0165b34c]{color:#333;background:#fff}.container[data-v-0165b34c]{padding:0 %?30?% %?30?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.tui-searchbox[data-v-0165b34c]{padding:%?30?% 0;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.tui-search-input[data-v-0165b34c]{width:100%;height:%?66?%;border-radius:%?35?%;padding:0 %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;background:#f2f2f2;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.tui-input[data-v-0165b34c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#333;padding:0 %?16?%;font-size:%?28?%}.tui-input-plholder[data-v-0165b34c]{font-size:%?28?%;color:#b2b2b2}.tui-cancle[data-v-0165b34c]{color:#888;font-size:%?28?%;padding-left:%?30?%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.tui-history-header[data-v-0165b34c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?30?% 0}.tui-icon-delete[data-v-0165b34c]{padding:%?10?%}.tui-search-title[data-v-0165b34c]{font-size:%?28?%;font-weight:700}.tui-tag-class[data-v-0165b34c]{display:inline-block;margin-bottom:%?20?%;margin-right:%?20?%;font-size:%?26?%!important}.default-tag[data-v-0165b34c]{min-width:%?68?%;text-align:center}body.?%PAGE?%[data-v-0165b34c]{background:#fff}",""])},"878b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var n={name:"tuiActionsheet",props:{maskClosable:{type:Boolean,default:!0},show:{type:Boolean,default:!1},itemList:{type:Array,default:function(){return[{text:"确定",color:"#1a1a1a"}]}},tips:{type:String,default:""},color:{type:String,default:"#9a9a9a"},size:{type:Number,default:26},isCancel:{type:Boolean,default:!0}},methods:{px:function(t){return uni.upx2px(t)+"px"},handleClickMask:function(){this.maskClosable&&this.handleClickCancel()},handleClickItem:function(t){if(this.show){var e=t.currentTarget.dataset;this.$emit("click",{index:e.index})}},handleClickCancel:function(){this.$emit("cancel")}}};e.default=n},"8ae4":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("cebc")),o=i("2f62"),s=n(i("a391")),c=n(i("fba4")),r=n(i("b06e")),l={components:{tuiIcon:s.default,tuiTag:c.default,tuiActionsheet:r.default},data:function(){return{historyData:[],historyShow:!0,keyword:"",showActionSheet:!1,tips:"确认清空搜索历史吗？"}},methods:{back:function(){uni.navigateBack()},cleanKey:function(){this.keyword=""},closeActionSheet:function(){this.showActionSheet=!1},openActionSheet:function(){this.showActionSheet=!0},chooseKeywords:function(t){this.keyword=t},handleSearch:function(){""==this.keyword.trim()?uni.showToast({icon:"none",title:"搜索条件不能为空"}):(uni.setStorageSync("searchKeyword",this.keyword),uni.switchTab({url:"/pages/product/product"}))},itemClick:function(t){var e=this,i=t.index;0==i&&(this.showActionSheet=!1,this.$http.post("/mall/app/search/history/clear",(0,a.default)({},this.baseInfo,{accountId:this.userInfo.accountId})).then(function(t){0==t.code?e.getHistoryData():console.log("searchPage.vue-- clear接口清空数据失败")}).catch(function(t){console.log("searchPage.vue-- clear接口清空数据错误")}))},getHistoryData:function(){var t=this;this.$http.post("/mall/app/search/history/query",(0,a.default)({},this.baseInfo,{accountId:this.userInfo.accountId})).then(function(e){0==e.code?e.result.list?t.historyData=e.result.list:t.historyShow=!1:console.log("searchPage.vue-- query接口获取数据失败")}).catch(function(t){console.log("searchPage.vue-- query接口获取数据错误")})}},computed:(0,a.default)({},(0,o.mapState)("common",["baseInfo","userInfo"])),onLoad:function(){this.getHistoryData()}};e.default=l},b06e:function(t,e,i){"use strict";i.r(e);var n=i("d119"),a=i("bcd9");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("dbac");var s=i("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"66370681",null);e["default"]=c.exports},b545:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.tui-actionsheet[data-v-66370681]{width:100%;position:fixed;left:0;right:0;bottom:0;z-index:9999;visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;background:#eaeaec;min-height:%?100?%}.tui-actionsheet-show[data-v-66370681]{-webkit-transform:translateZ(0);transform:translateZ(0);visibility:visible}.tui-tips[data-v-66370681]{width:100%;\n\t/* font-size: 26upx; */padding:%?30?% %?60?%;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center;background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.tui-operate-box[data-v-66370681]{padding-bottom:%?12?%}.tui-actionsheet-btn[data-v-66370681]{width:100%;height:%?100?%;background:#fff;\n\t/* box-sizing: border-box;\n\tpadding: 0 30upx; */display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;font-size:%?36?%;position:relative}.tui-btn-last[data-v-66370681]{padding-bottom:env(safe-area-inset-bottom)}.tui-actionsheet-divider[data-v-66370681]:before{content:"";width:100%;border-top:%?1?% solid #d9d9d9;position:absolute;top:0;left:0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5)}.tui-actionsheet-cancel[data-v-66370681]{color:#1a1a1a;padding-bottom:env(safe-area-inset-bottom)}.tui-actionsheet-hover[data-v-66370681]{background:#f7f7f9}.tui-actionsheet-mask[data-v-66370681]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);z-index:9996;-webkit-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;opacity:0;visibility:hidden}.tui-mask-show[data-v-66370681]{opacity:1;visibility:visible}',""])},bcd9:function(t,e,i){"use strict";i.r(e);var n=i("878b"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},c4f3:function(t,e,i){"use strict";var n=i("67e4"),a=i.n(n);a.a},d119:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"tui-actionsheet-class tui-actionsheet",class:[t.show?"tui-actionsheet-show":""]},[t.tips?i("v-uni-view",{staticClass:"tui-tips",style:{fontSize:t.px(t.size),color:t.color}},[t._v(t._s(t.tips))]):t._e(),i("v-uni-view",{class:[t.isCancel?"tui-operate-box":""]},[t._l(t.itemList,function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"tui-actionsheet-btn tui-actionsheet-divider",class:[t.isCancel||n!=t.itemList.length-1?"":"tui-btn-last"],style:{color:e.color||"#1a1a1a"},attrs:{"hover-class":"tui-actionsheet-hover","hover-stay-time":150,"data-index":n},on:{click:function(e){e=t.$handleEvent(e),t.handleClickItem(e)}}},[t._v(t._s(e.text))])]})],2),t.isCancel?i("v-uni-view",{staticClass:"tui-actionsheet-btn tui-actionsheet-cancel",attrs:{"hover-class":"tui-actionsheet-hover","hover-stay-time":150},on:{click:function(e){e=t.$handleEvent(e),t.handleClickCancel(e)}}},[t._v("取消")]):t._e()],1),i("v-uni-view",{staticClass:"tui-actionsheet-mask",class:[t.show?"tui-mask-show":""],on:{click:function(e){e=t.$handleEvent(e),t.handleClickMask(e)}}})],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},dbac:function(t,e,i){"use strict";var n=i("5c83"),a=i.n(n);a.a},dbbf:function(t,e,i){"use strict";i.r(e);var n=i("8ae4"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},f2db:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"tui-searchbox"},[i("v-uni-view",{staticClass:"tui-search-input"},[i("v-uni-view",[i("tui-icon",{attrs:{name:"search",size:16,color:"#333"},on:{click:function(e){e=t.$handleEvent(e),t.handleSearch(e)}}})],1),i("v-uni-input",{staticClass:"tui-input",attrs:{"confirm-type":"search",placeholder:"大家都在搜：2019退役球星",focus:!0,"auto-focus":"","placeholder-class":"tui-input-plholder"},model:{value:t.keyword,callback:function(e){t.keyword="string"===typeof e?e.trim():e},expression:"keyword"}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],on:{click:function(e){e=t.$handleEvent(e),t.cleanKey(e)}}},[i("tui-icon",{attrs:{name:"close-fill",size:16,color:"#bcbcbc"}})],1)],1),i("v-uni-view",{staticClass:"tui-cancle",on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}},[t._v("取消")])],1),t.historyShow?i("v-uni-view",{staticClass:"tui-search-history"},[i("v-uni-view",{staticClass:"tui-history-header"},[i("v-uni-view",{staticClass:"tui-search-title"},[t._v("搜索历史")]),i("tui-icon",{staticClass:"tui-icon-delete",attrs:{name:"delete",size:14,color:"#333"},on:{click:function(e){e=t.$handleEvent(e),t.openActionSheet(e)}}})],1),i("v-uni-view",{staticClass:"tui-history-content"},[t._l(t.historyData,function(e,n){return[i("tui-tag",{key:n+"_0",staticClass:"default-tag",attrs:{type:"gray",shape:"circle"},on:{click:function(i){i=t.$handleEvent(i),t.chooseKeywords(e.keyword)}}},[t._v(t._s(e.keyword))])]})],2)],1):t._e(),i("tui-actionsheet",{attrs:{show:t.showActionSheet,tips:t.tips},on:{click:function(e){e=t.$handleEvent(e),t.itemClick(e)},cancel:function(e){e=t.$handleEvent(e),t.closeActionSheet(e)}}})],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})}}]);