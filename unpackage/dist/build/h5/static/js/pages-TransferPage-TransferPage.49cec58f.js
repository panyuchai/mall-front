(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-TransferPage-TransferPage"],{2023:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[e._v(e._s(e.initData))])},o=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})},b3ea:function(e,t,a){"use strict";a.r(t);var n=a("e52b"),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=o.a},e3fc:function(e,t,a){"use strict";a.r(t);var n=a("2023"),o=a("b3ea");for(var r in o)"default"!==r&&function(e){a.d(t,e,function(){return o[e]})}(r);var u=a("2877"),s=Object(u["a"])(o["default"],n["a"],n["b"],!1,null,"1a05d67c",null);t["default"]=s.exports},e52b:function(e,t,a){"use strict";var n=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("f499")),r=n(a("cebc")),u=a("2f62"),s=(a("a76c"),{data:function(){return{initData:"加载中......"}},computed:(0,r.default)({},(0,u.mapState)("common",["transferUrl","baseUrl","baseInfo","userInfo","mallDomain","isTransferPage"])),methods:(0,r.default)({},(0,u.mapMutations)("common",["SET_HASLOGIN","SET_TOKEN","SET_USERIFNO","SET_ISTRANSFERPAGE"]),{handleTransfer:function(e){var t=this;"true"==e.success?(this.SET_HASLOGIN(!0),this.SET_TOKEN(e.token),this.$http.setConfig(function(e){return e.header["Authorization"]="Bearer "+uni.getStorageSync("token"),e}),this.$http.post("/mall/app/account/info").then(function(a){if(0==a.code){if(a.result){var n=a.result.mobilephone,o=a.result.loginname,u=a.result.id,s=a.result.customer,i=s.customerName,c=s.wechatName,l=s.customerSex,f=s.customerBirthday,m=s.customerImage,d=s.customerId;t.SET_USERIFNO({customerName:i,wechatName:c,customerSex:l,customerBirthday:f,customerImage:m,customerId:d}),t.SET_USERIFNO((0,r.default)({},t.userInfo,{mobilephone:n,loginname:o,accountId:u})),alert("success transferPage ---"+e.mallDomain),window.location.href="?mallDomain="+e.mallDomain}}else console.log("TransferPage.vue-- info接口调用失败")}).catch(function(e){console.log("TransferPage.vue-- info接口调用错误")})):(uni.setStorageSync("openid",e.openid),uni.setStorageSync("isTransferPage",!1),alert("fail transferPage ---"+e.mallDomain),window.location.href="?mallDomain="+e.mallDomain)},setUserInfo:function(){var e=this;this.$http.post("/mall/app/account/info").then(function(t){if(0==t.code){if(t.result){var a=t.result.mobilephone,n=t.result.loginname,o=t.result.id,u=t.result.customer,s=u.customerName,i=u.wechatName,c=u.customerSex,l=u.customerBirthday,f=u.customerImage,m=u.customerId;e.SET_USERIFNO({customerName:s,wechatName:i,customerSex:c,customerBirthday:l,customerImage:f,customerId:m}),e.SET_USERIFNO((0,r.default)({},e.userInfo,{mobilephone:a,loginname:n,accountId:o}))}}else console.log("TransferPage.vue-- info接口调用失败")}).catch(function(e){console.log("TransferPage.vue-- info接口调用错误")})}}),onLoad:function(e){alert("transferPage start --- "+(0,o.default)(e)),this.handleTransfer(e)}});t.default=s}}]);