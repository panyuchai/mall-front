(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orderDetail-orderDetail"],{"54ef":function(t,i,e){var a=e("a44f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("675a65ec",a,!0,{sourceMap:!1,shadowMode:!1})},"8eb1":function(t,i,e){"use strict";e.r(i);var a=e("ea83"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,function(){return a[t]})}(n);i["default"]=s.a},"96b7":function(t,i,e){"use strict";var a=e("54ef"),s=e.n(a);s.a},a44f:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'uni-page-body[data-v-73a83038]{background:#f7f7f7;padding-bottom:%?110?%}.mt-20[data-v-73a83038]{margin-top:%?20?%}.mode_price[data-v-73a83038]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.mode_price .and[data-v-73a83038]{padding-left:%?10?%}.info-mode[data-v-73a83038]{background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.info-mode .icon-status[data-v-73a83038]{width:%?110?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#a1a1a1;font-size:%?58?%}.info-mode .icon-status.icon-car[data-v-73a83038]{font-size:%?52?%}.info-mode .info[data-v-73a83038]{width:calc(100% - %?110?%);padding:%?20?% 0}.info-delivery .info[data-v-73a83038]{position:relative;padding-right:%?60?%}.info-delivery .info .status[data-v-73a83038]{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;font-size:%?28?%;color:#e93b3d}.info-delivery .info .text[data-v-73a83038]{color:#000;font-size:%?24?%;margin-top:%?10?%;line-height:%?34?%}.info-delivery .info .icon-arrow[data-v-73a83038]{position:absolute;right:%?20?%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);color:#323232;font-size:%?36?%}.info-address[data-v-73a83038]{border-top:1px solid #f5f5f5}.info-address .info .status[data-v-73a83038]{font-size:%?28?%;color:#303030}.info-address .info .status .phone[data-v-73a83038]{padding-left:%?20?%}.info-address .info .text[data-v-73a83038]{font-size:%?24?%;color:#8c8c8c}.order-detail[data-v-73a83038]{padding:%?20?%;background:#fff}.order-detail .hd[data-v-73a83038]{font-size:%?28?%;color:#505050;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.order-detail .bd[data-v-73a83038]{padding:%?20?% 0;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.order-detail .bd[data-v-73a83038]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:1px;background:#e8e8e8}.order-detail .bd .pic[data-v-73a83038]{margin-right:%?20?%}.order-detail .bd .pic .img[data-v-73a83038]{width:%?152?%;height:%?152?%}.order-detail .bd .info[data-v-73a83038]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative}.order-detail .bd .info .tit[data-v-73a83038]{font-size:%?28?%;color:#2f2f2f;width:100%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;margin-top:%?-4?%}.order-detail .bd .info .num[data-v-73a83038]{font-size:%?24?%;color:#b3b3b3;margin-top:%?4?%}.order-detail .bd .info .con[data-v-73a83038]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:%?8?%}.order-detail .bd .info .con ._left[data-v-73a83038]{font-size:%?24?%;color:#e93548}.order-detail .bd .info .con ._left .salePrice .price[data-v-73a83038]{font-size:%?32?%}.order-detail .bd .info .con ._left .salePoints .points[data-v-73a83038]{font-size:%?28?%}.order-detail .bd .info .con ._right[data-v-73a83038]{font-size:%?24?%;color:#b3b3b3}.order-detail .fd[data-v-73a83038]{padding:%?15?% 0 0 0}.order-detail .fd .text[data-v-73a83038]{margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.order-detail .fd .text ._left[data-v-73a83038]{font-size:%?28?%;color:#a2a2a2}.order-detail .fd .text ._right[data-v-73a83038]{font-size:%?24?%;color:#333}.list-box[data-v-73a83038]{background:#fff;padding:0 %?20?%}.list-box .hd[data-v-73a83038]{padding:%?20?% 0 %?15?% 0}.list-box .hd .text[data-v-73a83038]{font-size:%?24?%;color:#a2a2a2;height:%?50?%;line-height:%?50?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.list-box .hd .text ._left[data-v-73a83038]{font-size:%?28?%;color:#a2a2a2}.list-box .hd .text ._right[data-v-73a83038]{font-size:%?24?%;color:#333}.action-box[data-v-73a83038]{position:fixed;left:0;right:0;bottom:0;background:#fff;padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.action-box[data-v-73a83038]:before{content:"";position:absolute;left:0;right:0;top:0;height:1px;background:#e8e8e8}.action-box .action-btn[data-v-73a83038]{height:%?66?%;border:1px solid #e3e3e3;padding:0 %?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?28?%;color:#474747;margin-left:%?20?%}.action-box .action-btn.action-red[data-v-73a83038]{border-color:#e93b3d;background:#e93b3d;color:#fff}body.?%PAGE?%[data-v-73a83038]{background:#f7f7f7}',""])},e159:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"order-info"},[2==t.initData.orderlistState||3==t.initData.orderlistState||4==t.initData.orderlistState?e("v-uni-view",{staticClass:"info-delivery info-mode",on:{click:function(i){i=t.$handleEvent(i),t.linkToDelivery(t.initData.orderId)}}},[e("v-uni-view",{staticClass:"iconfont icon-che-tianchong icon-status icon-car"}),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"status"},[t._v(t._s(t.expressData.statusName))]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.expressData.data&&t.expressData.data.context))]),e("v-uni-text",{staticClass:"iconfont icon-arrowRight icon-arrow"})],1)],1):t._e(),e("v-uni-view",{staticClass:"info-address info-mode"},[e("v-uni-view",{staticClass:"iconfont icon-biaodiandidian icon-status icon-location"}),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"status"},[t._v(t._s(t.initData.receiverName)),e("v-uni-text",{staticClass:"phone"},[t._v(t._s(t.initData.receiverPhone))])],1),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.initData.receiverAddress))])],1)],1)],1),e("v-uni-view",{staticClass:"order-detail mt-20"},[e("v-uni-view",{staticClass:"hd"},[e("v-uni-view",{staticClass:"number"},[t._v("订单编号："),e("v-uni-text",[t._v(t._s(t.initData.orderlistMainnum))])],1)],1),t._l(t.initData.details,function(i){return e("v-uni-view",{staticClass:"bd"},[e("v-uni-view",{staticClass:"pic"},[e("v-uni-image",{staticClass:"img",attrs:{src:i.goodsMainimagepath,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"tit"},[t._v(t._s(i.goodsProductname))]),e("v-uni-view",{staticClass:"num"},[e("v-uni-text",[t._v(t._s(i.goodsTitle))])],1),e("v-uni-view",{staticClass:"con"},[e("v-uni-view",{staticClass:"_left mode_price"},[i.goodsRelprice?e("v-uni-view",{staticClass:"salePrice"},[t._v("¥"),e("v-uni-text",{staticClass:"price"},[t._v(t._s(i.goodsRelprice))])],1):t._e(),i.goodsRelprice&&i.credits?e("v-uni-view",[t._v("+")]):t._e(),i.credits?e("v-uni-view",{staticClass:"salePoints"},[e("v-uni-text",{staticClass:"points"},[t._v(t._s(i.credits))]),t._v("分")],1):t._e()],1),e("v-uni-view",{staticClass:"_right"},[e("v-uni-text",{staticClass:"num"},[t._v("x"+t._s(i.goodsCount))])],1)],1)],1)],1)}),e("v-uni-view",{staticClass:"fd"},[e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("快递方式")]),e("v-uni-view",{staticClass:"_right"},[t._v("快递："+t._s(t.initData.expressPay))])],1),e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("留言")]),e("v-uni-view",{staticClass:"_right"},[t._v(t._s(t.initData.orderlistMessage))])],1)],1)],2),e("v-uni-view",{staticClass:"list-box mt-20"},[e("v-uni-view",{staticClass:"hd"},[e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("应付总金额")]),e("v-uni-view",{staticClass:"_right mode_price"},[t.initData.orderlistAllprice?e("v-uni-view",{staticClass:"salePrice"},[t._v("¥"),e("v-uni-text",{staticClass:"price"},[t._v(t._s(t.initData.orderlistAllprice))])],1):t._e(),t.initData.orderlistAllprice&&t.initData.credits?e("v-uni-view",{staticClass:"and"},[t._v("+")]):t._e(),t.initData.credits?e("v-uni-view",{staticClass:"salePoints"},[e("v-uni-text",{staticClass:"points"},[t._v(t._s(t.initData.credits))]),t._v("分")],1):t._e()],1)],1),t.initData.rechargepay?e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("余额支付")]),e("v-uni-view",{staticClass:"_right"},[t._v("¥"+t._s(t.initData.rechargepay))])],1):t._e(),e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("优惠金额")]),e("v-uni-view",{staticClass:"_right"},[t._v("¥0.00")])],1),t.initData.credits?e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("积分支付")]),e("v-uni-view",{staticClass:"_right"},[t._v(t._s(t.initData.credits)+"分")])],1):t._e(),t.initData.payPrice?e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("微信支付")]),e("v-uni-view",{staticClass:"_right"},[t._v("¥"+t._s(t.initData.payPrice))])],1):t._e()],1)],1),e("v-uni-view",{staticClass:"list-box mt-20"},[e("v-uni-view",{staticClass:"hd"},[e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("下单时间")]),e("v-uni-view",{staticClass:"_right"},[t._v(t._s(t.initData.orderlistTime))])],1),e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"_left"},[t._v("付款时间")]),e("v-uni-view",{staticClass:"_right"},[t._v(t._s(t.initData.payTime))])],1)],1)],1),e("v-uni-view",{staticClass:"action-box"},[e("v-uni-view",{staticClass:"action-btn"},[t._v("联系客服")]),0==t.initData.orderlistState?e("v-uni-view",{staticClass:"action-btn",on:{click:function(i){i=t.$handleEvent(i),t.cancelOrder(t.initData.orderlistId)}}},[t._v("取消订单")]):t._e(),0==t.initData.orderlistState?e("v-uni-view",{staticClass:"action-btn action-red",on:{click:function(i){i=t.$handleEvent(i),t.linkToPayment(t.initData.details)}}},[t._v("去付款")]):t._e(),2==t.initData.orderlistState?e("v-uni-view",{staticClass:"action-btn action-red",on:{click:function(i){i=t.$handleEvent(i),t.confirmOrder(t.initData.orderlistId)}}},[t._v("确认收货")]):t._e()],1)],1)},s=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return s})},e70f:function(t,i,e){"use strict";e.r(i);var a=e("e159"),s=e("8eb1");for(var n in s)"default"!==n&&function(t){e.d(i,t,function(){return s[t]})}(n);e("96b7");var o=e("2877"),l=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,"73a83038",null);i["default"]=l.exports},ea83:function(t,i,e){"use strict";var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e("cebc")),n=e("2f62"),o={data:function(){return{initData:{},expressData:{}}},methods:{linkToDelivery:function(t){uni.navigateTo({url:"/pages/delivery/delivery?orderId="+t})},linkToPayment:function(t){var i=[];t.map(function(t){i.push({goodsCount:t.goodsCount,mallGoodsId:t.mallGoodsId})}),uni.setStorage({key:"buyList",data:i,success:function(){uni.navigateTo({url:"/pages/payment/payment"})}})},confirmOrder:function(t){var i=this;this.$http.post("/mall/app/order/receive",(0,s.default)({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:t})).then(function(e){0==e.code&&(uni.showToast({icon:"none",title:"确认收货成功"}),i.loadData(t))}).catch(function(t){console.log(t)})},cancelOrder:function(t){var i=this;uni.showModal({title:"提示",content:"确定取消订单吗？",confirmColor:"#E93B3D",success:function(e){e.confirm?i.$http.post("/mall/app/order/cancel",(0,s.default)({},i.baseInfo,{accountId:i.userInfo.accountId,orderId:t})).then(function(e){0==e.code?(uni.showToast({icon:"none",title:"取消订单成功"}),i.loadData(t)):(uni.showToast({icon:"none",title:"取消订单失败"}),i.loadData())}).catch(function(t){console.log(t)}):e.cancel&&console.log("用户点击取消")}})},transformStatus:function(t){switch(t){case-1:return"待查询";case 0:return"查询异常";case 1:return"暂无记录";case 2:return"在途中";case 3:return"派送中";case 4:return"已签收";case 5:return"用户拒签";case 6:return"疑难件";case 7:return"无效单";default:return""}},initExpress:function(t){var i=this;this.$http.post("/mall/app/order/express",(0,s.default)({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:t})).then(function(t){0==t.code&&(i.expressData=JSON.parse(t.result.express).showapi_res_body,i.expressData.statusName=i.transformStatus(i.expressData.status),i.expressData.data=i.expressData.data[0])}).catch(function(t){console.log(t)})},loadData:function(t){var i=this;this.$http.post("/mall/app/order/detail",(0,s.default)({},this.baseInfo,{accountId:this.userInfo.accountId,orderId:t})).then(function(t){0==t.code&&(i.initData=t.result)}).catch(function(t){console.log(t)})}},computed:(0,s.default)({},(0,n.mapState)("common",["baseInfo","userInfo"])),onLoad:function(t){this.loadData(t.orderId),this.initExpress(t.orderId)}};i.default=o}}]);