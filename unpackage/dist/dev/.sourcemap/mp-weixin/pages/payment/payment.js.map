{"version":3,"sources":["webpack:///D:/0/HBuilderProjects/exclusive-mall-front/main.js","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue?24be","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue?48de","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue?8735","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue?d9a6","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue?a1eb","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue?05c0"],"names":["createPage","Page","data","hasAddress","isWx","isWebWx","isWeb","remark","payData","address","goodsList","balanceType","fee","methods","linkToAddress","addressRecipients","uni","navigateTo","url","linkToCoupon","redirectTo","switchChange","e","Number","detail","value","handleWxPay","$http","post","payChannels","then","res","result","orderState","showToast","icon","title","removeStorageSync","setTimeout","orderId","callBackNo","orderNo","code","wx","requestPayment","payResponse","wxPayResponse","timeStamp","nonceStr","packageStr","signType","paySign","sc","console","log","er","msg","message","catch","err","handleWxWebPay","window","location","href","paymentUrl","baseInfo","mallDomain","payPrice","baseUrl","encodeURIComponent","token","handleWebPay","handleSubmit","accountId","userInfo","addressId","balance","balancePay","isBalance","credits","expressFee","express","totalPrice","goodsPrice","totalPriceDecrease","checkEnvironment","navigator","userAgent","browserRedirect","sUserAgent","toLowerCase","bIsWeChat","match","getOrderData","getStorageSync","goodsListDetailList","map","item","mallGoodsId","id","push","computed","onShow","onBackPress","onLoad","option"],"mappings":"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","file":"pages/payment/payment.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/payment/payment.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./payment.vue?vue&type=template&id=6e67e167&\"\nimport script from \"./payment.vue?vue&type=script&lang=js&\"\nexport * from \"./payment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./payment.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\software\\\\HBuilder\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6e67e167', component.options)\n    } else {\n      api.reload('6e67e167', component.options)\n    }\n    module.hot.accept(\"./payment.vue?vue&type=template&id=6e67e167&\", function () {\n      api.rerender('6e67e167', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"0/HBuilderProjects/exclusive-mall-front/pages/payment/payment.vue\"\nexport default component.exports","export * from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payment.vue?vue&type=template&id=6e67e167&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payment.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapState\n} from 'vuex'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\thasAddress: true,\n\t\t\tisWx: false,\n\t\t\tisWebWx: false,\n\t\t\tisWeb: false,\n\t\t\tremark: '',\n\t\t\tpayData: {},\n\t\t\taddress: {},\n\t\t\tgoodsList: [],\n\t\t\tbalanceType: 0,\n\t\t\tfee: 0,\n\t\t}\n\t},\n\tmethods: {\n\t\tlinkToAddress(){\n\t\t\tif(this.address.addressRecipients === '请先去创建地址'){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/addressManage/addressManage?type=add`\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/address/address?source=1'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tlinkToCoupon(){\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '/pages/coupon/coupon'\n\t\t\t})\n\t\t},\n\t\tswitchChange(e){\n\t\t\tthis.balanceType=Number(e.detail.value);\n\t\t},\n\t\thandleWxPay(data){\n\t\t\tthis.$http.post('/mall/app/order/submit', {\n\t\t\t\t...data,\n\t\t\t\tpayChannels: '8',\n\t\t\t})\n\t\t\t.then( res => {\n\t\t\t\t// if(res.result){\n\t\t\t\t\tif(res.result.orderState == 1){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '订单提交成功'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.removeStorageSync('chooseAddress');\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\turl: '/pages/orderDetail/orderDetail?orderId='+res.result.orderId\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$http.post('/mall/app/order/submit', {\n\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\tpayChannels: '8',\n\t\t\t\t\t\t\tcallBackNo: res.result.orderNo\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then( res => {\n\t\t\t\t\t\t\tif(res.code == 0){\n\t\t\t\t\t\t\t\twx.requestPayment({\n\t\t\t\t\t\t\t\t\t'timeStamp': res.result.payResponse.wxPayResponse.timeStamp,\n\t\t\t\t\t\t\t\t\t'nonceStr': res.result.payResponse.wxPayResponse.nonceStr,\n\t\t\t\t\t\t\t\t\t'package': res.result.payResponse.wxPayResponse.packageStr,\n\t\t\t\t\t\t\t\t\t'signType': res.result.payResponse.wxPayResponse.signType,\n\t\t\t\t\t\t\t\t\t'paySign': res.result.payResponse.wxPayResponse.paySign,\n\t\t\t\t\t\t\t\t\t'success': function (sc) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(sc);\n\t\t\t\t\t\t\t\t\t\t// wx.redirectTo({\n\t\t\t\t\t\t\t\t\t\t// \turl: '/pages/translateOrder/translateOrder'\n\t\t\t\t\t\t\t\t\t\t// })\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'fail': function (er) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(er);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'complete': function(msg){\n\t\t\t\t\t\t\t\t\t\tconsole.log(msg)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: res.message\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch( err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t},\n\t\thandleWxWebPay(data){\n\t\t\tthis.$http.post('/mall/app/order/submit', {\n\t\t\t\t...data,\n\t\t\t\tpayChannels: '',\n\t\t\t})\n\t\t\t.then( res => {\n\t\t\t\tif(res.result && res.result.orderState == 1){\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '订单提交成功'\n\t\t\t\t\t})\n\t\t\t\t\tuni.removeStorageSync('chooseAddress');\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\turl: '/pages/orderDetail/orderDetail?orderId='+res.result.orderId\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1000)\n\t\t\t\t}else{\n\t\t\t\t\tif(res.code == 0){\n\t\t\t\t\t\twindow.location.href=`http://${this.paymentUrl}.yujianli.cn/#/pages/payment/cashRegister?orderNo=`+res.result.orderNo+\"&mallDomain=\"+this.baseInfo.mallDomain+'&orderPayPrice='+data.payPrice+'&baseUrl='+this.baseUrl+'&token='+encodeURIComponent(this.token);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.message\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch( err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t},\n\t\thandleWebPay(data){\n\t\t\tthis.$http.post('/mall/app/order/submit', {\n\t\t\t\t...data,\n\t\t\t\tpayChannels: '',\n\t\t\t})\n\t\t\t.then( res => {\n\t\t\t\tif(res.result.orderState == 1){\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '订单提交成功'\n\t\t\t\t\t})\n\t\t\t\t\tuni.removeStorageSync('chooseAddress');\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\turl: '/pages/orderDetail/orderDetail?orderId='+res.result.orderId\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1000)\n\t\t\t\t}else{\n\t\t\t\t\tthis.$http.post('/mall/app/order/submit', {\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\tpayChannels: '2',\n\t\t\t\t\t\tcallBackNo: res.result.orderNo\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch( err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t},\n\t\thandleSubmit(){\n\t\t\tif(!this.hasAddress){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '请先去创建地址'\n\t\t\t\t})\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t...this.baseInfo,\n\t\t\t\taccountId: this.userInfo.accountId,\n\t\t\t\taddressId: this.address.addressId,\n\t\t\t\tbalance: this.balancePay,\n\t\t\t\tisBalance: this.balanceType,\n\t\t\t\tcredits: this.payData.credits,\n\t\t\t\texpressFee: this.payData.express.fee,\n\t\t\t\tgoodsList: this.goodsList,\n\t\t\t\tpayPrice: this.payPrice,\n\t\t\t\tremark: this.remark,\n\t\t\t\ttotalPrice: this.payData.totalPrice,\n\t\t\t\tgoodsPrice: this.totalPriceDecrease,\n\t\t\t\taddress: this.address\n\t\t\t};\n\t\t\tif(this.isWx){\n\t\t\t\tthis.handleWxPay(data);\n\t\t\t}else if(this.isWebWx){\n\t\t\t\tthis.handleWxWebPay(data);\n\t\t\t}else if(this.isWeb){\n\t\t\t\tthis.handleWebPay(data);\n\t\t\t}\n\t\t},\n\t\tcheckEnvironment(){\n\t\t\tif(navigator && navigator.userAgent){\n\t\t\t\t// 非小程序\n\t\t\t\tthis.browserRedirect();\n\t\t\t}else{\n\t\t\t\t// 小程序\n\t\t\t\tthis.isWx=true;\n\t\t\t};\n\t\t},\n\t\tbrowserRedirect() {\n\t\t\tvar sUserAgent = navigator.userAgent.toLowerCase();\n\t\t\tvar bIsWeChat = sUserAgent.match(/MicroMessenger/i) == \"micromessenger\";\n\t\t\tif(bIsWeChat) {\n\t\t\t\tthis.isWebWx=true;\n\t\t\t}else {\n\t\t\t\tthis.isWeb=true;\n\t\t\t}\n\t\t},\n\t\tgetOrderData(){\n\t\t\tthis.$http.post('/mall/app/order/confirm', {\n\t\t\t\t...this.baseInfo,\n\t\t\t\taccountId: this.userInfo.accountId,\n\t\t\t\tgoodsList: uni.getStorageSync('buyList')\n\t\t\t})\n\t\t\t.then( res => {\n\t\t\t\tif(res.code == 0){\n\t\t\t\t\tif(!res.result.address){\n\t\t\t\t\t\tthis.hasAddress=false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.hasAddress=true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.payData=res.result;\n\t\t\t\t\tthis.address=res.result.address || {};\n\t\t\t\t\tthis.address.addressRecipients=res.result.address && res.result.address.addressRecipients || '请先去创建地址';\n\t\t\t\t\tres.result.goodsListDetailList.map(item => {\n\t\t\t\t\t\titem.mallGoodsId=item.id;\n\t\t\t\t\t\tthis.goodsList.push(item);\n\t\t\t\t\t});\n\t\t\t\t\tthis.fee=res.result.express.fee;\n\t\t\t\t\tif(uni.getStorageSync('chooseAddress')){\n\t\t\t\t\t\tthis.address=uni.getStorageSync('chooseAddress');\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log('payment.vue-- confirm接口获取数据失败');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch( err => {\n\t\t\t\tconsole.log('payment.vue-- confirm接口获取数据错误' + err);\n\t\t\t})\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState('common', ['baseInfo', 'userInfo', 'paymentUrl', 'baseUrl', 'token']),\n\t\t// ...mapState('order', ['order_goodsList'])\n\t\t\n\t\t// balancePay(){\n\t\t// \treturn this.payData.totalPrice+this.fee>this.payData.balance ? this.payData.balance : this.payData.totalPrice+this.fee\n\t\t// },\n\t\t// payPrice(){\n\t\t// \treturn this.balanceType ? this.payData.totalPrice+this.fee - this.balancePay : this.payData.totalPrice+this.fee\n\t\t// },\n\t\ttotalPriceDecrease(){\n\t\t\treturn this.payData.totalPrice-(this.payData.express && this.payData.express.fee)\n\t\t},\n\t\tbalancePay(){\n\t\t\treturn this.totalPriceDecrease+this.fee>this.payData.balance ? this.payData.balance : this.totalPriceDecrease+this.fee\n\t\t},\n\t\tpayPrice(){\n\t\t\treturn this.balanceType ? this.totalPriceDecrease+this.fee - this.balancePay : this.totalPriceDecrease+this.fee\n\t\t}\n\t},\n\tonShow(){\n\t\tthis.getOrderData();\n\t},\n\tonBackPress(){\n\t\tuni.removeStorageSync('chooseAddress');\n\t},\n\tonLoad(option){\n\t\tthis.checkEnvironment();\n\t},\n}\n","import mod from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payment.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payment.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}