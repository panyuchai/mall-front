{"version":3,"sources":["webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue?2101","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue?5f90","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue?6c0f","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue?9bff","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue?895b","webpack:///D:/0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue?4568"],"names":["components","mInput","data","providerList","hasProvider","phoneData","phone","code","passwordData","loginName","password","isMiniprogram","isWx","isWebWx","isPhoneLogin","isPasswordLogin","wxLoginData","timeTick","countdown","computed","showOauthBtn","methods","handlePhoneLogin","bindPhoneLogin","wxPhoneLogin","phoneLogin","handlePasswordLogin","bindPasswordLogin","wxPasswordLogin","passwordLogin","initProvider","timeTicking","that","timer","setInterval","clearInterval","sendCode","$http","post","mallDomain","then","res","uni","showToast","icon","title","result","content","catch","err","console","log","isSuccess","SET_HASLOGIN","SET_TOKEN","token","setConfig","config","header","getStorageSync","setUserInfo","setTimeout","navigateBack","delta","openid","wxLogin","othis","getSetting","success","authSetting","getUserInfo","wxLoginAjax","onGotUserInfo","e","detail","userInfo","rawData","signature","encryptedData","iv","defaultLogin","checkEnvironment","navigator","userAgent","browserRedirect","sUserAgent","toLowerCase","bIsWeChat","match","mallType","mobilephone","customer","accountId","customerName","wechatName","customerSex","customerBirthday","customerImage","customerId","SET_USERIFNO","onReady"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACc;;;AAGlE;AAC2K;AAC3K,gBAAgB,mLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAkyB,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4ClzB;;;;AAIH;AACA,sE;;;AAGkB;AACXA,YAAU,EAAE;AACRC,UAAM,EAANA,MADQ,EADD;;AAIXC,MAJW,kBAIJ;AACH,WAAO;AACHC,kBAAY,EAAE,EADX;AAEHC,iBAAW,EAAE,KAFV;AAGfC,eAAS,EAAE;AACVC,aAAK,EAAE,EADG;AAEVC,YAAI,EAAE,EAFI,EAHI;;AAOHC,kBAAY,EAAE;AACzBC,iBAAS,EAAE,EADc;AAEzBC,gBAAQ,EAAE,EAFe,EAPX;;AAWfC,mBAAa,EAAE,KAXA;AAYfC,UAAI,EAAE,KAZS;AAafC,aAAO,EAAE,KAbM;AAcfC,kBAAY,EAAE,KAdC;AAefC,qBAAe,EAAE,KAfF;AAgBfC,iBAAW,EAAE,EAhBE;AAiBfC,cAAQ,EAAE,KAjBK;AAkBfC,eAAS,EAAE,EAlBI,EAAP;;AAoBH,GAzBU;AA0BXC,UAAQ;AACV,sBAAS,QAAT,EAAmB,CAAC,YAAD,EAAe,UAAf,EAA2B,UAA3B,EAAuC,UAAvC,CAAnB,CADU;AAEbC,gBAFa,0BAEE;AACd,aAAO,KAAKT,aAAZ;AACA,KAJY,GA1BG;;AAgCXU,SAAO;AACA,0BAAa,QAAb,EAAuB,CAAC,WAAD,EAAc,cAAd,EAA8B,OAA9B,EAAuC,cAAvC,EAAuD,cAAvD,CAAvB,CADA;AAEZC,oBAFY,8BAEM;AACjB,UAAG,KAAKV,IAAR,EAAa;AACZ,aAAKW,cAAL;AACA,OAFD,MAEM,IAAG,KAAKV,OAAR,EAAgB;AACrB,aAAKW,YAAL;AACA,OAFK,MAED;AACJ,aAAKC,UAAL;AACA;AACD,KAVW;AAWZC,uBAXY,iCAWS;AACpB,UAAG,KAAKd,IAAR,EAAa;AACZ,aAAKe,iBAAL;AACA,OAFD,MAEM,IAAG,KAAKd,OAAR,EAAgB;AACrB,aAAKe,eAAL;AACA,OAFK,MAED;AACJ,aAAKC,aAAL;AACA;AACD,KAnBW;AAoBHC,gBApBG,0BAoBY;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACS,KAvGE;;AAyGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACHC,eA/HY,yBA+HC;AACZ,WAAKb,SAAL,GAAe,EAAf;AACA,UAAIc,IAAI,GAAG,IAAX;AACA,UAAIC,KAAK,GAAGC,WAAW,CAAC,YAAU;AACjCF,YAAI,CAACd,SAAL;AACA,YAAGc,IAAI,CAACd,SAAL,IAAkB,CAArB,EAAuB;AACtBiB,uBAAa,CAACF,KAAD,CAAb;AACAD,cAAI,CAACf,QAAL,GAAc,KAAd;AACA;AACD,OANsB,EAMpB,IANoB,CAAvB;AAOA,KAzIW;AA0IZmB,YA1IY,sBA0IF;AACT,UAAG,CAAC,gCAAiB,KAAK/B,SAAL,CAAeC,KAAhC,EAAuC,CAAvC,CAAJ,EAA8C;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","file":"pages/login/login.js","sourcesContent":["import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=7a6884a6&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\software\\\\HBuilder\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7a6884a6', component.options)\n    } else {\n      api.reload('7a6884a6', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=7a6884a6&\", function () {\n      api.rerender('7a6884a6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"0/HBuilderProjects/exclusive-mall-front/pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=7a6884a6&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    // import service from '../../service.js';\n    import {\n        mapState,\n        mapMutations\n    } from 'vuex'\n\timport { setStore, getStore, removeStore} from '../../utils/store.js'\n\timport { isvalidatemobile, validatenull } from '../../utils/validate.js'\n    import mInput from '../../components/m-input.vue'\n\n    export default {\n        components: {\n            mInput\n        },\n        data() {\n            return {\n                providerList: [],\n                hasProvider: false,\n\t\t\t\tphoneData: {\n\t\t\t\t\tphone: '',\n\t\t\t\t\tcode: ''\n\t\t\t\t},\n                passwordData: {\n\t\t\t\t\tloginName: '',\n\t\t\t\t\tpassword: ''\n\t\t\t\t},\n\t\t\t\tisMiniprogram: false,\n\t\t\t\tisWx: false,\n\t\t\t\tisWebWx: false,\n\t\t\t\tisPhoneLogin: false,\n\t\t\t\tisPasswordLogin: false,\n\t\t\t\twxLoginData: {},\n\t\t\t\ttimeTick: false,\n\t\t\t\tcountdown: 60\n            }\n        },\n        computed: {\n\t\t\t...mapState(\"common\", ['mallDomain', 'mallType', 'userInfo', 'baseInfo']),\n\t\t\tshowOauthBtn() {\n\t\t\t\treturn this.isMiniprogram\n\t\t\t}\n\t\t},\n        methods: {\n            ...mapMutations('common', ['SET_TOKEN', 'SET_HASLOGIN', 'login', 'SET_USERIFNO', 'SET_BASEINFO']),\n\t\t\thandlePhoneLogin(){\n\t\t\t\tif(this.isWx){\n\t\t\t\t\tthis.bindPhoneLogin();\n\t\t\t\t}else if(this.isWebWx){\n\t\t\t\t\tthis.wxPhoneLogin();\n\t\t\t\t}else{\n\t\t\t\t\tthis.phoneLogin();\n\t\t\t\t}\n\t\t\t},\n\t\t\thandlePasswordLogin(){\n\t\t\t\tif(this.isWx){\n\t\t\t\t\tthis.bindPasswordLogin();\n\t\t\t\t}else if(this.isWebWx){\n\t\t\t\t\tthis.wxPasswordLogin();\n\t\t\t\t}else{\n\t\t\t\t\tthis.passwordLogin();\n\t\t\t\t}\n\t\t\t},\n            initProvider() {\n                // const filters = ['weixin', 'qq', 'sinaweibo'];\n                // uni.getProvider({\n                //     service: 'oauth',\n                //     success: (res) => {\n                //         if (res.provider && res.provider.length) {\n                //             for (let i = 0; i < res.provider.length; i++) {\n                //                 if (~filters.indexOf(res.provider[i])) {\n                //                     this.providerList.push({\n                //                         value: res.provider[i],\n                //                         image: '../../static/img/' + res.provider[i] + '.png'\n                //                     });\n                //                 }\n                //             }\n                //             this.hasProvider = true;\n                //         }\n                //     },\n                //     fail: (err) => {\n                //         console.error('获取服务供应商失败：' + JSON.stringify(err));\n                //     }\n                // });\n\t\t\t\t\n\t\t\t\t// uni.getSetting({\n\t\t\t\t// \tsuccess(res) {\n\t\t\t\t// \t\tif (res.authSetting['scope.userInfo']) {\n\t\t\t\t// \t\t\t// 已经授权，可以直接调用 getUserInfo 获取头像昵称\n\t\t\t\t// \t\t\tuni.getUserInfo({\n\t\t\t\t// \t\t\t\tsuccess: function(res) {\n\t\t\t\t// \t\t\t\t\tconsole.log(res.userInfo)\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t})\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// })\n\t\t\t\t\n\t\t\t\t// uni.getProvider({\n\t\t\t\t//     service: 'oauth',\n\t\t\t\t//     success: (res) => {\n\t\t\t\t//         // console.log(res.provider)\n\t\t\t\t//         if (~res.provider.indexOf('weixin')) {\n\t\t\t\t//             uni.login({\n\t\t\t\t//                 provider: 'weixin',\n\t\t\t\t//                 success: (loginRes) => {\n\t\t\t\t//                     // console.log(JSON.stringify(loginRes.code));\n\t\t\t\t// \t\t\t\t\tthis.wxInitData.jsCode=loginRes.code;\n\t\t\t\t// \t\t\t\t\t// console.log(this.wxInitData)\n\t\t\t\t// \t\t\t\t\tthis.$http.post('/mall/app/login/mall/wxapp', this.wxInitData).then(res => {\n\t\t\t\t// \t\t\t\t\t\tconsole.log(res);\n\t\t\t\t// \t\t\t\t\t}).catch(err => {\n\t\t\t\t// \t\t\t\t\t\tconsole.log(err);\n\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t// \t\t\t\t\t\n\t\t\t\t// \t\t\t\t\tuni.getUserInfo({  \n\t\t\t\t// \t\t\t\t\t  provider: 'weixin',\n\t\t\t\t// \t\t\t\t\t  success: (infoRes) => {\n\t\t\t\t// \t\t\t\t\t\tconsole.log(infoRes);\n\t\t\t\t// \t\t\t\t\t\tlet {rawData, signature, encryptedData, iv} = infoRes;\n\t\t\t\t// \t\t\t\t\t\tthis.wxLoginData.rawData=rawData;\n\t\t\t\t// \t\t\t\t\t\tthis.wxLoginData.signature=signature;\n\t\t\t\t// \t\t\t\t\t\tthis.wxLoginData.encryptedData=encryptedData;\n\t\t\t\t// \t\t\t\t\t\tthis.wxLoginData.iv=iv;\n\t\t\t\t// \t\t\t\t\t\tthis.$http.post('/mall/app/login/mall/wxapp/unionid', this.wxLoginData).then(res => {\n\t\t\t\t// \t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t// \t\t\t\t\t\t}).catch(err => {\n\t\t\t\t// \t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t// \t\t\t\t\t\t});\n\t\t\t\t// \t\t\t\t\t  },\n\t\t\t\t// \t\t\t\t\t  fail: function (err){\n\t\t\t\t// \t\t\t\t\t\t  console.log(err);\n\t\t\t\t// \t\t\t\t\t  }\n\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t// \t\t\t\t\t\n\t\t\t\t// \t\t\t\t\t// this.$http.post('/app/login/mall/wxapp/unionid', this.wxData).then(res => {\n\t\t\t\t// \t\t\t\t\t// \tconsole.log(res);\n\t\t\t\t// \t\t\t\t\t// }).catch(err => {\n\t\t\t\t// \t\t\t\t\t// \tconsole.log(err)\n\t\t\t\t// \t\t\t\t\t// });\n\t\t\t\t//                 }\n\t\t\t\t//             });\n\t\t\t\t// \t\t\tthis.hasProvider = true;\n\t\t\t\t//         }\n\t\t\t\t//     }\n\t\t\t\t// });\n            },\n\t\t\t\n      //       oauth(value) {\n      //           uni.login({\n      //               provider: value,\n      //               success: (res) => {\n\t\t\t\t\t\t// console.log(res)\n      //                   uni.getUserInfo({\n      //                       provider: value,\n      //                       success: (infoRes) => {\n      //                           /**\n      //                            * 实际开发中，获取用户信息后，需要将信息上报至服务端。\n      //                            * 服务端可以用 userInfo.openId 作为用户的唯一标识新增或绑定用户信息。\n      //                            */\n\t\t\t\t\t\t// \t\tconsole.log(111)\n      //                           this.toMain(infoRes.userInfo.nickName);\n      //                       }\n      //                   });\n      //               },\n      //               fail: (err) => {\n      //                   console.error('授权登录失败：' + JSON.stringify(err));\n      //               }\n      //           });\n      //       },\n\t\t\ttimeTicking(){\n\t\t\t\tthis.countdown=60;\n\t\t\t\tlet that = this;\n\t\t\t\tlet timer = setInterval(function(){\n\t\t\t\t\tthat.countdown--;\n\t\t\t\t\tif(that.countdown == 0){\n\t\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\t\tthat.timeTick=false;\n\t\t\t\t\t}\n\t\t\t\t}, 1000)\n\t\t\t},\n\t\t\tsendCode(){\n\t\t\t\tif(!isvalidatemobile(this.phoneData.phone)[0]){\n\t\t\t\t\tthis.$http.post('/mall/app/login/mall/verifyCode', {\n\t\t\t\t\t\t...this.phoneData,\n\t\t\t\t\t\tmallDomain: this.mallDomain\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\t// console.log(res);\n\t\t\t\t\t\tif(res.code == 0){\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: res.result.content,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.timeTick=true;\n\t\t\t\t\t\t\tthis.timeTicking();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '验证码发送失败',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(\"发送验证码错误\"+err)\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: isvalidatemobile(this.phoneData.phone)[1],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tphoneLogin(){\n\t\t\t\tif(!validatenull(this.phoneData.code) && !isvalidatemobile(this.phoneData.phone)[0]){\n\t\t\t\t\tthis.$http.post('/mall/app/login/mall/h5', {\n\t\t\t\t\t\tmallDomain: this.mallDomain,\n\t\t\t\t\t\t...this.phoneData\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\t// console.log(res)\n\t\t\t\t\t\tif(res.result.isSuccess){\n\t\t\t\t\t\t\tthis.SET_HASLOGIN(true);\n\t\t\t\t\t\t\tthis.SET_TOKEN(res.result.token);\n\t\t\t\t\t\t\tthis.$http.setConfig((config) => {\n\t\t\t\t\t\t\t\t// config.header['Authorization'] = 'Bearer ' + getStore({ name: 'token' });\n\t\t\t\t\t\t\t\tconfig.header['Authorization'] = 'Bearer ' + uni.getStorageSync('token');\n\t\t\t\t\t\t\t\treturn config;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setUserInfo();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '登陆成功',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"login-- h5登录失败\");\n\t\t\t\t\t\t\tif(res.result.code == '0011'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '验证码不正确',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.phoneData.code='';\n\t\t\t\t\t\t\t}else if(res.result.code == '0012'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '用户不存在'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(\"login-- h5登录错误\");\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '信息填写有误',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tpasswordLogin(){\n\t\t\t\tif(!validatenull(this.passwordData.loginName) && !validatenull(this.passwordData.password)){\n\t\t\t\t\tthis.$http.post('/mall/app/login/mall/h5', {\n\t\t\t\t\t\tmallDomain: this.mallDomain,\n\t\t\t\t\t\t...this.passwordData\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\tif(res.result.isSuccess){\n\t\t\t\t\t\t\tthis.SET_HASLOGIN(true);\n\t\t\t\t\t\t\tthis.SET_TOKEN(res.result.token);\n\t\t\t\t\t\t\tthis.$http.setConfig((config) => {\n\t\t\t\t\t\t\t\t// config.header['Authorization'] = 'Bearer ' + getStore({ name: 'token' });\n\t\t\t\t\t\t\t\tconfig.header['Authorization'] = 'Bearer ' + uni.getStorageSync('token');\n\t\t\t\t\t\t\t\treturn config;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setUserInfo();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '登陆成功',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"login-- h5登录失败\");\n\t\t\t\t\t\t\tif(res.result.code == '0010'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '账户密码错误',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.passwordData.password='';\n\t\t\t\t\t\t\t}else if(res.result.code == '0012'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '用户不存在'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(\"login-- h5登录错误\");\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '信息填写有误',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindPhoneLogin(){\n\t\t\t\t// console.log(this.phoneData);\n\t\t\t\tif(!validatenull(this.phoneData.code) && !isvalidatemobile(this.phoneData.phone)[0]){\n\t\t\t\t\tthis.$http.post('/mall/app/login/mall/wxapp/userinfo', {\n\t\t\t\t\t\tmallDomain: this.mallDomain,\n\t\t\t\t\t\t...this.phoneData\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\tif(res.result.isSuccess){\n\t\t\t\t\t\t\tthis.SET_HASLOGIN(true);\n\t\t\t\t\t\t\tthis.SET_TOKEN(res.result.token);\n\t\t\t\t\t\t\tthis.$http.setConfig((config) => {\n\t\t\t\t\t\t\t\t// config.header['Authorization'] = 'Bearer ' + getStore({ name: 'token' });\n\t\t\t\t\t\t\t\tconfig.header['Authorization'] = 'Bearer ' + uni.getStorageSync('token');\n\t\t\t\t\t\t\t\treturn config;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setUserInfo();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '登陆成功',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"login-- userinfo登录失败\");\n\t\t\t\t\t\t\tif(res.result.code == '0011'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '验证码不正确',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.phoneData.code='';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(\"login-- userinfo登录错误\");\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '信息填写有误',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindPasswordLogin(){\n\t\t\t\tif(!validatenull(this.passwordData.loginName) && !validatenull(this.passwordData.password)){\n\t\t\t\t\tthis.$http.post('/mall/app/login/mall/wxapp/userinfo', {\n\t\t\t\t\t\tmallDomain: this.mallDomain,\n\t\t\t\t\t\t...this.passwordData\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\tif(res.result.isSuccess){\n\t\t\t\t\t\t\tthis.SET_HASLOGIN(true);\n\t\t\t\t\t\t\tthis.SET_TOKEN(res.result.token);\n\t\t\t\t\t\t\tthis.$http.setConfig((config) => {\n\t\t\t\t\t\t\t\t// config.header['Authorization'] = 'Bearer ' + getStore({ name: 'token' });\n\t\t\t\t\t\t\t\tconfig.header['Authorization'] = 'Bearer ' + uni.getStorageSync('token');\n\t\t\t\t\t\t\t\treturn config;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setUserInfo();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '登陆成功',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"login-- userinfo登录失败\");\n\t\t\t\t\t\t\tif(res.result.code == '0010'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '账户密码错误',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.passwordData.password='';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(\"login-- userinfo登录错误\");\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '信息填写有误',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n            // toMain(userName) {\n            //     this.login(userName);\n            //     /**\n            //      * 强制登录时使用reLaunch方式跳转过来\n            //      * 返回首页也使用reLaunch方式\n            //      */\n            //     if (this.forcedLogin) {\n            //         uni.reLaunch({\n            //             url: '../main/main',\n            //         });\n            //     } else {\n            //         uni.navigateBack();\n            //     }\n            // },\n\t\t\twxPhoneLogin(){\n\t\t\t\tif(!validatenull(this.phoneData.code) && !isvalidatemobile(this.phoneData.phone)[0]){\n\t\t\t\t\tthis.$http.post('/mall/app/login/mall/wxweb/userinfo', {\n\t\t\t\t\t\topenid: uni.getStorageSync('openid'),\n\t\t\t\t\t\tmallDomain: this.mallDomain,\n\t\t\t\t\t\t...this.phoneData\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\tif(res.result.isSuccess){\n\t\t\t\t\t\t\tthis.SET_HASLOGIN(true);\n\t\t\t\t\t\t\tthis.SET_TOKEN(res.result.token);\n\t\t\t\t\t\t\tthis.$http.setConfig((config) => {\n\t\t\t\t\t\t\t\t// config.header['Authorization'] = 'Bearer ' + getStore({ name: 'token' });\n\t\t\t\t\t\t\t\tconfig.header['Authorization'] = 'Bearer ' + uni.getStorageSync('token');\n\t\t\t\t\t\t\t\treturn config;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setUserInfo();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '登陆成功',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"login-- wxweb/userinfo登录失败\");\n\t\t\t\t\t\t\tif(res.result.code == '0011'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '验证码不正确',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.phoneData.code='';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(\"login-- wxweb/userinfo登录错误\");\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '信息填写有误',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\twxPasswordLogin(){\n\t\t\t\tif(!validatenull(this.phoneData.loginName) && !validatenull(this.passwordData.password)){\n\t\t\t\t\tthis.$http.post('/mall/app/login/mall/wxweb/userinfo', {\n\t\t\t\t\t\topenid: uni.getStorageSync('openid'),\n\t\t\t\t\t\tmallDomain: this.mallDomain,\n\t\t\t\t\t\t...this.passwordData\n\t\t\t\t\t})\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\tif(res.result.isSuccess){\n\t\t\t\t\t\t\tthis.SET_HASLOGIN(true);\n\t\t\t\t\t\t\tthis.SET_TOKEN(res.result.token);\n\t\t\t\t\t\t\tthis.$http.setConfig((config) => {\n\t\t\t\t\t\t\t\t// config.header['Authorization'] = 'Bearer ' + getStore({ name: 'token' });\n\t\t\t\t\t\t\t\tconfig.header['Authorization'] = 'Bearer ' + uni.getStorageSync('token');\n\t\t\t\t\t\t\t\treturn config;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setUserInfo();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '登陆成功',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"login-- wxweb/userinfo登录失败\");\n\t\t\t\t\t\t\tif(res.result.code == '0010'){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '账户密码错误',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.passwordData.password='';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(\"login-- wxweb/userinfo登录错误\");\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '信息填写有误',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\twxLogin(){\n\t\t\t\tvar othis = this;\n\t\t\t\tuni.getSetting({\n\t\t\t\t    success (res){\n\t\t\t\t\t    if (res.authSetting['scope.userInfo']) {\n\t\t\t\t\t\t\t// 已经授权，可以直接调用 getUserInfo 获取头像昵称\n\t\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tothis.wxLoginAjax(res);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t\t})\n\t\t\t\t// this.onGotUserInfo();\n\t\t\t\t\n\t\t\t\t// uni.login({\n\t\t\t\t//   provider: 'weixin',\n\t\t\t\t//   success: (res) => {\n\t\t\t\t//     if(res.code){\n\t\t\t\t// \t\t// this.SET_TOKEN(res.code);\n\t\t\t\t// \t\tthis.$http.post('/mall/app/login/mall/wxapp', {\n\t\t\t\t// \t\t\tmallDomain: this.baseInfo.mallDomain,\n\t\t\t\t// \t\t\tjsCode: res.code\n\t\t\t\t// \t\t})\n\t\t\t\t// \t\t.then( resMsg => {\n\t\t\t\t// \t\t\t// console.log(resMsg)\n\t\t\t\t// \t\t\tif(resMsg.code == 0){\n\t\t\t\t// \t\t\t\t// let othis = this;\n\t\t\t\t// \t\t\t\tif(resMsg.result.isSuccess){\n\t\t\t\t// \t\t\t\t\tuni.reLaunch({\n\t\t\t\t// \t\t\t\t\t    url: 'pages/index/index'\n\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t// \t\t\t\t}else{\n\t\t\t\t// \t\t\t\t\tuni.getSetting({\n\t\t\t\t// \t\t\t\t\t\tsuccess (res){\n\t\t\t\t// \t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t// \t\t\t\t\t\t\tif (res.authSetting['scope.userInfo']) {\n\t\t\t\t// \t\t\t\t\t\t\t\t// 已经授权，可以直接调用 getUserInfo 获取头像昵称\n\t\t\t\t// \t\t\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t// \t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t// \t\t\t\t\t\t\t\t\t\t// this.login(res.userInfo);\n\t\t\t\t// \t\t\t\t\t\t\t\t\t}\n\t\t\t\t// \t\t\t\t\t\t\t\t})\n\t\t\t\t// \t\t\t\t\t\t\t}\n\t\t\t\t// \t\t\t\t\t\t}\n\t\t\t\t// \t\t\t\t\t})\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t}else{\n\t\t\t\t// \t\t\t\tconsole.log(\"login.vue--wxapp 接口调用失败\")\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t})\n\t\t\t\t// \t\t.catch( errMsg => {\n\t\t\t\t// \t\t\tconsole.log(\"login.vue--wxapp 接口调用出错\")\n\t\t\t\t// \t\t})\n\t\t\t\t// \t}else{\n\t\t\t\t// \t\tconsole.log(\"login.vue--获取code失败\")\n\t\t\t\t// \t}\n\t\t\t\t//   }\n\t\t\t\t// });\n\t\t\t},\n\t\t\tonGotUserInfo(e){\n\t\t\t\tif(e.detail.userInfo){\n\t\t\t\t\tthis.wxLoginAjax(e.detail);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log(\"login.vue-- 用户点击了拒绝授权\");\n\t\t\t\t}\n\t\t\t},\n\t\t\twxLoginAjax(data){\n\t\t\t\tlet {rawData, signature, encryptedData, iv} = data;\n\t\t\t\tthis.wxLoginData.rawData=rawData;\n\t\t\t\tthis.wxLoginData.signature=signature;\n\t\t\t\tthis.wxLoginData.encryptedData=encryptedData;\n\t\t\t\tthis.wxLoginData.iv=iv;\n\t\t\t\t\n\t\t\t\tthis.$http.post('/mall/app/login/mall/wxapp/unionid', {\n\t\t\t\t\t...this.wxLoginData,\n\t\t\t\t\tmallDomain: this.mallDomain\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif(res.result.isSuccess){\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t// this.SET_USERIFNO(res.userInfo);\n\t\t\t\t\t\t\t\tthis.setUserInfo();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.SET_HASLOGIN(true);\n\t\t\t\t\t\tthis.SET_TOKEN(res.result.token);\n\t\t\t\t\t\tthis.$http.setConfig((config) => {\n\t\t\t\t\t\t\t// config.header['Authorization'] = 'Bearer ' + getStore({ name: 'token' }).token;\n\t\t\t\t\t\t\tconfig.header['Authorization'] = 'Bearer ' + uni.getStorageSync('token');\n\t\t\t\t\t\t\treturn config;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.log(\"login.vue--unionid 获取token失败\");\n\t\t\t\t\t\tif(res.result.code == '0020'){\n\t\t\t\t\t\t\tthis.isMiniprogram=false;\n\t\t\t\t\t\t\tthis.isPhoneLogin=true;\n\t\t\t\t\t\t}else if(res.result.code == '0021'){\n\t\t\t\t\t\t\tthis.isMiniprogram=false;\n\t\t\t\t\t\t\tthis.isPasswordLogin=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(\"login.vue--unionid 接口调用出错\"+ err);\n\t\t\t\t});\n\t\t\t},\n\t\t\tdefaultLogin(){\n\t\t\t\tif(this.isMiniprogram){\n\t\t\t\t\tthis.wxLogin();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckEnvironment(){\n\t\t\t\tif(navigator && navigator.userAgent){\n\t\t\t\t\t// 非小程序\n\t\t\t\t\tthis.browserRedirect();\n\t\t\t\t}else{\n\t\t\t\t\t// 小程序\n\t\t\t\t\tthis.isMiniprogram=true;\n\t\t\t\t\tthis.isWx=true;\n\t\t\t\t};\n\t\t\t},\n\t\t\tbrowserRedirect() {\n\t\t\t\tvar sUserAgent = navigator.userAgent.toLowerCase();\n\t\t\t\t// var bIsIpad = sUserAgent.match(/ipad/i) == \"ipad\";\n\t\t\t\t// var bIsIphoneOs = sUserAgent.match(/iphone os/i) == \"iphone os\";\n\t\t\t\t// var bIsMidp = sUserAgent.match(/midp/i) == \"midp\";\n\t\t\t\t// var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == \"rv:1.2.3.4\";\n\t\t\t\t// var bIsUc = sUserAgent.match(/ucweb/i) == \"ucweb\";\n\t\t\t\t// var bIsAndroid = sUserAgent.match(/android/i) == \"android\";\n\t\t\t\t// var bIsCE = sUserAgent.match(/windows ce/i) == \"windows ce\";\n\t\t\t\t// var bIsWM = sUserAgent.match(/windows mobile/i) == \"windows mobile\";\n\t\t\t\tvar bIsWeChat = sUserAgent.match(/MicroMessenger/i) == \"micromessenger\";//微信端\n\t\t\t\tif (bIsWeChat) {\n\t\t\t\t\tthis.isWebWx=true;\n\t\t\t\t\tswitch(this.mallType){\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tthis.isPhoneLogin=true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tthis.isPasswordLogin=true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(\"login.vue--未标记商城类型\");\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tswitch(this.mallType){\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tthis.isPhoneLogin=true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tthis.isPasswordLogin=true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(\"login.vue--未标记商城类型\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsetUserInfo(){\n\t\t\t\tthis.$http.post('/mall/app/account/info')\n\t\t\t\t.then( res => {\n\t\t\t\t\tif(res.code == 0){\n\t\t\t\t\t\tif(res.result){\n\t\t\t\t\t\t\tlet mobilephone = res.result.mobilephone;\n\t\t\t\t\t\t\tlet {accountId, customerName, wechatName, customerSex, customerBirthday, customerImage, customerId} = res.result.customer;\n\t\t\t\t\t\t\tthis.SET_USERIFNO({accountId, customerName, wechatName, customerSex, customerBirthday,  customerImage, customerId});\n\t\t\t\t\t\t\tthis.SET_USERIFNO({\n\t\t\t\t\t\t\t\t...this.userInfo,\n\t\t\t\t\t\t\t\tmobilephone: mobilephone\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.log('login.vue-- info接口调用失败');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch( err => {\n\t\t\t\t\tconsole.log('login.vue-- info接口调用错误');\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n        },\n        onReady() {\n            this.initProvider();\n\t\t\tthis.checkEnvironment();\n\t\t\tthis.defaultLogin();\n        },\n    }\n","import mod from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilder/HBuilderX.2.1.3.20190723/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}